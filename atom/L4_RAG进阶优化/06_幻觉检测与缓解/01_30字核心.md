# 30字核心

> 用一句话说清幻觉检测与缓解的本质

---

## 核心定义

**幻觉检测与缓解是验证 LLM 生成内容与检索事实一致性的技术，通过检测、溯源、约束三层防护确保 RAG 系统输出的可信度。**

---

## 为什么对 RAG 系统至关重要？

### 1. RAG 的核心承诺：基于事实的生成

RAG 系统的设计初衷是让 LLM 基于检索到的真实文档生成答案，而不是凭空编造。但现实中：

- **检索不完美**：可能检索到不相关或低质量的文档
- **LLM 不完美**：即使有正确文档，LLM 也可能"脑补"不存在的信息
- **用户期望高**：在医疗、法律、金融等高风险场景，错误信息可能造成严重后果

**没有幻觉检测与缓解，RAG 系统就是"不可信的智能助手"。**

### 2. 三层防护体系

```
检索阶段 → 生成阶段 → 验证阶段
   ↓          ↓          ↓
质量把关   约束生成   一致性检测
   ↓          ↓          ↓
过滤低质量  强制引用   标记矛盾
```

**核心思想**：不是等幻觉发生后再处理，而是在每个环节都设置防护。

### 3. 可信度的三个维度

| 维度 | 含义 | 实现方式 |
|------|------|----------|
| **准确性** | 生成内容与检索内容一致 | NLI 一致性检测 |
| **可追溯性** | 每个观点都能找到来源 | 引用溯源系统 |
| **可靠性** | 低置信度时拒绝回答 | 多策略缓解 |

---

## 与可信度的关系

### 可信度 = 准确性 × 可追溯性 × 可靠性

**类比：学术论文的可信度**

- **准确性**：论文内容与引用文献一致（不能曲解原文）
- **可追溯性**：每个观点都有引用标注 [1][2]（可以验证来源）
- **可靠性**：证据不足时承认局限性（不强行下结论）

**RAG 系统的可信度也是如此：**

```python
# 伪代码：可信度评估
def assess_trustworthiness(answer, retrieved_docs):
    # 1. 准确性：检测一致性
    consistency_score = check_consistency(answer, retrieved_docs)

    # 2. 可追溯性：验证引用
    citation_coverage = verify_citations(answer, retrieved_docs)

    # 3. 可靠性：评估置信度
    confidence_score = calculate_confidence(consistency_score, citation_coverage)

    # 综合评估
    if confidence_score < THRESHOLD:
        return "抱歉，我对这个答案不够确定，无法提供可靠回答。"
    else:
        return answer_with_citations
```

---

## 核心要点

1. **幻觉检测与缓解不是可选项**：在生产环境的 RAG 系统中，这是必需的质量保障机制

2. **三层防护缺一不可**：
   - 检测（发现问题）
   - 溯源（定位来源）
   - 缓解（降低风险）

3. **可信度是 RAG 的生命线**：没有可信度，RAG 系统再智能也没有实用价值

---

## 一句话记住

**幻觉检测与缓解 = 让 RAG 系统从"能回答"升级到"可信赖"的关键技术。**
