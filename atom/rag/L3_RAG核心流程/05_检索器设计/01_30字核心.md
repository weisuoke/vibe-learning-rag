# 30字核心

**检索器是根据用户查询从向量存储中找到最相关文档块的组件，是 RAG 系统实现精准问答的关键。**

---

## 拆解理解

| 关键词 | 含义 |
|-------|------|
| **检索器（Retriever）** | RAG 系统的查询引擎，负责"找到相关内容" |
| **用户查询（Query）** | 用户提出的问题或搜索词 |
| **向量存储** | 存放文档 Embedding 的数据库（上一章内容） |
| **最相关文档块** | 与查询语义最匹配的 Top-K 个文本片段 |
| **精准问答** | 找到的内容越相关，LLM 生成的答案越准确 |

---

## 为什么这句话重要？

理解这句话，你就理解了：

1. **检索器是"桥梁"** → 连接用户问题和知识库内容
2. **检索质量决定答案质量** → 垃圾进，垃圾出（GIGO）
3. **检索器 ≠ 向量存储** → 向量存储是"仓库"，检索器是"搜索员"

---

## 检索器的一句话公式

```
检索器 = 查询理解 + 相似度匹配 + 结果排序
```

用前端的话说：

```
检索器 = 搜索框解析 + 模糊匹配 + 结果排序
```

---

## 在 RAG 系统中的位置

```
┌─────────────────────────────────────────────────────────────┐
│                    在线查询阶段                               │
│                                                             │
│  用户问题        查询向量化       ★检索器★        上下文注入    │
│  ┌─────┐       ┌─────┐       ┌─────┐         ┌─────┐       │
│  │ "如何│       │query│       │Top-K│         │Prompt│       │
│  │ 请假"│  ──→  │ vec │  ──→  │ 文档 │   ──→   │ +LLM │       │
│  │     │       │     │       │     │         │     │       │
│  └─────┘       └─────┘       └─────┘         └─────┘       │
│                                ↑                           │
│                              你在这里                        │
└─────────────────────────────────────────────────────────────┘
```

---

## 检索器 vs 向量存储

| 职责 | 向量存储 | 检索器 |
|------|----------|--------|
| 核心任务 | 存储和索引向量 | 查询和排序结果 |
| 类比 | 图书馆的书架 | 图书馆的搜索系统 |
| 关注点 | 存储效率、索引结构 | 查询策略、结果质量 |
| 输入 | 文档向量 | 用户查询 |
| 输出 | 持久化的索引 | Top-K 相关文档 |

---

## 检索器的三种类型（预览）

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  向量检索器          关键词检索器          混合检索器          │
│  ┌─────────┐       ┌─────────┐         ┌─────────┐         │
│  │ 语义相似 │       │ 词频匹配 │         │ 两者结合 │         │
│  │ "意思像" │       │ "词一样" │         │ "最佳实践"│         │
│  └─────────┘       └─────────┘         └─────────┘         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

**记住这句话：** 检索器 = 查询理解 + 相似度匹配 + 结果排序，找到最相关的内容给 LLM。

---

**下一步：** [02_第一性原理](./02_第一性原理.md) - 从根本理解为什么需要检索器
