# Binary Tree 与决策树直觉 - 30字核心

**Binary Tree 是每个节点最多有两个子节点的树形结构，是 AI Agent 决策系统和分层检索的核心基础。**

---

## 核心要素拆解

### 1. 数据结构层面

**Binary Tree = 节点 + 左右指针**

```python
class TreeNode:
    def __init__(self, val):
        self.val = val
        self.left = None   # 左子节点
        self.right = None  # 右子节点
```

### 2. 算法层面

**遍历 = 访问顺序**

- **前序遍历**：根 → 左 → 右（先决策再执行）
- **中序遍历**：左 → 根 → 右（有序访问）
- **后序遍历**：左 → 右 → 根（自底向上聚合）
- **层序遍历**：逐层访问（广度优先）

### 3. AI Agent 应用层面

**决策树 = 分类规则的树形表示**

```
                [特征1 > 阈值?]
                /            \
              是              否
             /                \
    [特征2 > 阈值?]      [类别: B]
       /        \
     是          否
    /            \
[类别: A]    [类别: C]
```

### 4. 核心价值

| 层面 | 价值 |
|------|------|
| **数据结构** | 高效的层次化数据组织 |
| **算法** | O(log n) 查找、插入、删除 |
| **AI Agent** | 可解释的决策路径 |
| **RAG 系统** | 分层文档检索（TreeRAG） |

---

## 为什么是"两个"子节点？

**第一性原理：** 二叉树是最简单的非线性结构

- **0 个子节点**：退化为链表（线性）
- **1 个子节点**：仍然是链表（线性）
- **2 个子节点**：最小的分支结构（非线性）
- **3+ 个子节点**：可以用二叉树模拟

**核心洞察：** 任何多叉树都可以转换为二叉树（左孩子右兄弟表示法）

---

## 在 AI Agent 中的三种形态

### 1. 决策树（Decision Tree）

**用途：** 分类和回归

```python
# sklearn 决策树
from sklearn.tree import DecisionTreeClassifier

clf = DecisionTreeClassifier(max_depth=3)
clf.fit(X_train, y_train)
```

**2025-2026 应用：**
- LLM 推理轨迹转决策树（PCE 框架）
- Agentic Classification Tree（ACT）

### 2. 行为树（Behavior Tree）

**用途：** AI Agent 决策架构

```python
# 行为树节点类型
class BehaviorNode:
    def __init__(self):
        self.children = []

    def execute(self):
        pass  # 选择器、序列、装饰器等
```

**2025-2026 应用：**
- 游戏 AI NPC 行为控制
- 机器人任务规划（H-AIM 框架）
- LLM 辅助生成行为树（BTGenBot）

### 3. 分层检索树（TreeRAG）

**用途：** 长文档分层检索

```python
# TreeRAG 分层结构
class TreeRAG:
    def __init__(self):
        self.root = DocumentNode()  # 根节点：文档摘要
        self.root.left = ChapterNode()  # 左子树：章节
        self.root.right = ChapterNode()  # 右子树：章节
```

**2025-2026 应用：**
- Tree-Chunking 方法（ACL 2025）
- Tree-KG 层次知识图（2026）
- HiRAG 多跳推理（2025）

---

## 一句话记住

**Binary Tree 是"分而治之"思想的数据结构体现，每次决策将问题空间一分为二，是 AI Agent 决策系统的基础架构。**

---

**版本**: v1.0
**最后更新**: 2026-02-13
**适用于**: Python 3.13+, AI Agent 开发, RAG 系统
