# 30字核心

**文本分块（Chunking）是将长文档切分成适合检索的小片段的技术，直接决定 RAG 系统的检索精度和召回质量。**

---

## 拆解理解

| 关键词 | 含义 |
|-------|------|
| **文本分块（Chunking）** | 将长文本切割成多个小片段的过程 |
| **适合检索** | 大小适中，语义完整，便于向量化和匹配 |
| **小片段（Chunk）** | 分块后的单个文本单元，是检索的最小粒度 |
| **检索精度** | 找到的内容与问题的相关程度 |
| **召回质量** | 能否找到所有相关的内容 |

---

## 为什么这句话重要？

理解这句话，你就理解了：

1. **分块是检索的基础** → 检索系统返回的是 Chunk，不是整个文档
2. **分块策略影响答案质量** → 分块不当会导致"找到了但答案不完整"或"找不到"
3. **没有万能的分块策略** → 不同场景需要不同的分块方式

---

## 文本分块的一句话公式

```
文本分块 = 确定切分点 + 控制块大小 + 保持语义完整
```

用前端的话说：

```
文本分块 = 虚拟列表分页 + 每页大小限制 + 确保内容不被截断
```

---

## 在 RAG 系统中的位置

```
┌─────────────────────────────────────────────────────────────┐
│                    离线索引阶段                               │
│                                                             │
│  文档加载        ★文本分块★       向量化          向量存储      │
│  ┌─────┐       ┌─────┐       ┌─────┐         ┌─────┐       │
│  │ 原始 │       │chunk│       │ vec │         │     │       │
│  │ 文本 │  ──→  │chunk│  ──→  │ vec │   ──→   │ DB  │       │
│  │     │       │chunk│       │ vec │         │     │       │
│  └─────┘       └─────┘       └─────┘         └─────┘       │
│                   ↑                                         │
│                 你在这里                                      │
└─────────────────────────────────────────────────────────────┘
```

---

## 分块的核心权衡

```
        太小的 Chunk                    太大的 Chunk
        ┌─────────┐                    ┌─────────┐
        │ 精度高   │                    │ 上下文全 │
        │ 但上下文 │     ←  平衡  →     │ 但噪音多 │
        │ 不完整   │                    │ 检索不准 │
        └─────────┘                    └─────────┘
              ↓                              ↓
        "找到了，但信息不够"           "信息太多，找不准"
```

---

**下一步：** [02_第一性原理](./02_第一性原理.md) - 从根本理解为什么需要文本分块
