# L4_RAG进阶优化 知识点列表

> 掌握 RAG 系统的进阶优化技术，从检索优化到生成质量保障的全方位提升

---

## 知识点清单

1. **混合检索策略** - 结合关键词检索与语义检索，提升召回率和准确率
2. **ReRank重排序** - 对初检结果进行精细排序，提升最终检索质量
3. **Query改写** - 优化用户查询表达，提升检索效果
4. **长文档处理策略** - 处理超长文档的分层索引、摘要链与 Map-Reduce 策略
5. **对话式RAG** - 多轮对话的上下文管理、历史压缩与指代消解
6. **幻觉检测与缓解** - 检测生成内容与检索内容的一致性，实现引用溯源
7. **评估与调优** - RAG 系统的端到端评估指标与优化方法

---

## 学习顺序建议

```
混合检索策略 → ReRank重排序 → Query改写 → 长文档处理 → 对话式RAG → 幻觉检测 → 评估与调优
     ↓              ↓            ↓            ↓            ↓           ↓            ↓
  提升召回率     精细排序      优化查询     特殊场景      多轮记忆    质量保障     综合评估
```

**为什么是这个顺序？**

1. **检索优化三部曲（1-3）**：先扩大召回范围（混合检索），再精细排序（ReRank），最后优化输入（Query改写）
2. **特殊场景处理（4-5）**：掌握基础优化后，学习长文档和多轮对话的特殊处理策略
3. **生成质量保障（6）**：检索优化完成后，关注生成阶段的幻觉问题
4. **综合评估收尾（7）**：需要先了解各种优化手段，才能进行全面的评估与调优

---

## 与 RAG 开发的关系

| 知识点 | 核心作用 | 关键产出 |
|--------|----------|----------|
| 混合检索策略 | 结合 BM25 + 向量检索，兼顾精确匹配与语义理解 | 更高的召回率 |
| ReRank重排序 | 使用 Cross-Encoder 对候选结果精排 | 更准确的 Top-K |
| Query改写 | HyDE、Query Expansion 等技术优化查询 | 更好的检索意图表达 |
| 长文档处理策略 | 分层索引、摘要链处理超长文档 | 突破 Context Window 限制 |
| 对话式RAG | 管理多轮对话历史，实现连贯问答 | 有记忆的问答系统 |
| 幻觉检测与缓解 | 检测生成内容与检索内容的一致性 | 可信赖的回答 |
| 评估与调优 | 使用 RAGAS 等框架评估 RAG 效果 | 可量化的优化方向 |

---

## 前置知识

- ✅ L1_NLP基础（BPE分词、Embedding、语义相似度）
- ✅ L2_LLM核心（Transformer、API调用、Token/Context、Prompt Engineering）
- ✅ L3_RAG核心流程（RAG架构、文档加载、分块、向量存储、检索、生成）

## 后续学习

- → L5_框架与落地（LangChain、LlamaIndex、端到端项目实战）

---

**版本：** v1.0
**最后更新：** 2026-02-05
