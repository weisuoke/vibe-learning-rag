# 30字核心

**混合检索是将关键词检索（BM25）与语义检索（向量）结合的策略，兼顾精确匹配与语义理解，显著提升 RAG 召回率。**

---

## 拆解理解

| 关键词 | 含义 |
|-------|------|
| **混合检索（Hybrid Search）** | 同时使用多种检索方法，融合结果 |
| **关键词检索（BM25）** | 基于词频统计的传统检索，精确匹配关键词 |
| **语义检索（Vector Search）** | 基于 Embedding 向量的检索，理解语义相似 |
| **召回率（Recall）** | 找回所有相关文档的能力 |
| **精确匹配 + 语义理解** | 两种能力互补，覆盖更多场景 |

---

## 为什么这句话重要？

理解这句话，你就理解了：

1. **单一检索有盲区** → 关键词检索不懂同义词，语义检索可能漏掉精确术语
2. **混合 = 取长补短** → BM25 擅长精确匹配，向量擅长语义理解
3. **召回率是 RAG 的生命线** → 检索不到，LLM 再强也无法回答

---

## 混合检索的一句话公式

```
混合检索 = BM25（精确匹配） + 向量检索（语义理解） + 分数融合
```

用前端的话说：

```
混合检索 = 全文搜索 + 模糊匹配 + 结果合并排序
```

---

## 在 RAG 系统中的位置

```
┌─────────────────────────────────────────────────────────────┐
│                    在线查询阶段                               │
│                                                             │
│  用户查询        ★混合检索★        重排序          生成回答    │
│  ┌─────┐       ┌─────────┐       ┌─────┐       ┌─────┐     │
│  │Query│       │ BM25    │       │     │       │     │     │
│  │     │  ──→  │    +    │  ──→  │ReRank│ ──→  │ LLM │     │
│  │     │       │ Vector  │       │     │       │     │     │
│  └─────┘       └─────────┘       └─────┘       └─────┘     │
│                    ↑                                        │
│                  你在这里                                     │
└─────────────────────────────────────────────────────────────┘
```

---

## 混合检索 vs 单一检索

| 场景 | 纯关键词检索 | 纯语义检索 | 混合检索 |
|------|-------------|-----------|----------|
| "Python 3.12 新特性" | ✅ 精确匹配版本号 | ❌ 可能返回其他版本 | ✅ 两者兼顾 |
| "如何提升代码质量" | ❌ 无法理解"质量" | ✅ 理解语义 | ✅ 两者兼顾 |
| "API rate limit 错误" | ✅ 精确匹配术语 | ⚠️ 可能漏掉 | ✅ 两者兼顾 |
| "怎么让程序跑得更快" | ❌ 无法理解"快" | ✅ 理解"性能优化" | ✅ 两者兼顾 |

---

**记住这句话：** 混合检索 = BM25 + 向量 + 融合，取长补短提升召回率。

---

**下一步：** [02_第一性原理](./02_第一性原理.md) - 从根本理解为什么需要混合检索
