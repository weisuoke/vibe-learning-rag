# 06_最小可用

> 掌握以下内容，就能开始使用 Milvus 进行向量存储和检索

---

## 最小可用知识清单

掌握以下 5 个核心要点，你就能快速上手 Milvus：

---

### 4.1 拉取并运行 Milvus Docker 镜像

**一行命令启动 Milvus：**

```bash
docker run -d --name milvus-standalone \
  -p 19530:19530 \
  -p 9091:9091 \
  milvusdb/milvus:latest
```

**关键点：**
- `-p 19530:19530`：gRPC 端口，用于客户端连接
- `-p 9091:9091`：Metrics 端口，用于监控
- `milvusdb/milvus:latest`：使用最新稳定版

---

### 4.2 安装 pymilvus SDK

```bash
# 使用 uv（推荐）
uv add pymilvus

# 或使用 pip
pip install pymilvus
```

**版本要求：**
- Python 3.9+
- pymilvus 2.3+（推荐 2.4+）

---

### 4.3 连接并验证

```python
from pymilvus import connections

# 连接到 Milvus
connections.connect(
    alias="default",
    host="localhost",
    port="19530"
)

print("✅ 连接成功！")
```

**关键点：**
- `alias`：连接别名，默认使用 "default"
- `host` 和 `port`：Milvus 服务地址
- 连接成功后可以开始操作 Collection

---

### 4.4 基本健康检查

```python
from pymilvus import utility

# 获取服务器版本
version = utility.get_server_version()
print(f"Milvus 版本: {version}")

# 检查连接状态
if connections.has_connection("default"):
    print("✅ 连接正常")
```

**为什么需要健康检查？**
- 确保服务可用
- 验证连接状态
- 生产环境必备

---

### 4.5 理解连接生命周期

```python
# 1. 建立连接
connections.connect("default", host="localhost", port="19530")

# 2. 使用连接（操作 Collection、插入数据等）
# ... 你的业务逻辑 ...

# 3. 断开连接（释放资源）
connections.disconnect("default")
```

**最佳实践：**
- 使用完毕后及时断开连接
- 生产环境使用连接池管理
- 异常情况下确保连接被释放

---

## 这些知识足以

掌握以上 5 个要点后，你可以：

✅ **快速搭建开发环境**
- 在本地启动 Milvus 实例
- 通过 Python 连接并验证

✅ **开始基本操作**
- 创建 Collection
- 插入向量数据
- 执行相似度检索

✅ **为 RAG 系统打基础**
- 搭建向量存储层
- 集成到 RAG Pipeline
- 实现语义检索功能

---

## 下一步学习

完成最小可用知识后，建议继续学习：

1. **Collection 管理**（02_Collection管理）
   - 如何设计 Schema
   - 创建和管理 Collection

2. **数据插入与查询**（03_数据插入与查询）
   - 插入向量数据
   - 创建索引
   - 执行检索

3. **核心概念深入**
   - Docker 部署详解（03_核心概念_Docker安装.md）
   - pymilvus 高级用法（04_核心概念_pymilvus基础.md）
   - 健康检查机制（05_核心概念_健康检查.md）

---

## 快速验证清单

在继续学习前，确保你能完成以下操作：

- [ ] 成功启动 Milvus Docker 容器
- [ ] 安装 pymilvus 并导入成功
- [ ] 建立连接并获取服务器版本
- [ ] 理解连接的建立和断开流程
- [ ] 知道如何检查连接状态

---

**记住：** 这 5 个要点是 20% 的核心知识，能解决 80% 的入门问题。先掌握这些，再深入学习其他高级特性！
