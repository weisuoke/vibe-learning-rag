# 自定义工具注册 - 概览

> **完整的学习路径导航**

## 文档结构

本知识点包含 20 个文档,分为 4 个部分:

### 基础维度 (8 个文档)

1. **01_30字核心.md** - 一句话精华
2. **02_第一性原理.md** - 从根本问题推导解决方案
3. **04_最小可用.md** - 20% 核心知识解决 80% 问题
4. **05_双重类比.md** - TypeScript/Node.js + 日常生活类比
5. **06_反直觉点.md** - 3 个常见误区
6. **08_面试必问.md** - 8 个高频面试问题
7. **09_化骨绵掌.md** - 10 张知识卡片速记
8. **10_一句话总结.md** - 最终总结

### 核心概念 (8 个文档)

1. **03_核心概念_01_Tool_Definition接口.md** - 工具的"身份证"
2. **03_核心概念_02_Schema验证与TypeBox.md** - 类型安全的参数定义
3. **03_核心概念_03_Execute执行函数.md** - 工具的"执行引擎"
4. **03_核心概念_04_registerTool注册API.md** - 工具的"注册中心"
5. **03_核心概念_05_自定义渲染.md** - 美化工具显示
6. **03_核心概念_06_工具包装与事件.md** - 事件驱动架构
7. **03_核心概念_07_错误处理.md** - 三层错误处理机制
8. **03_核心概念_08_性能优化.md** - 四大优化策略

### 实战代码 (4 个文档)

1. **07_实战代码_01_简单交互工具.md** - 基于 question.ts
2. **07_实战代码_02_状态管理工具.md** - 基于 todo.ts
3. **07_实战代码_03_输出截断工具.md** - 基于 truncated-tool.ts
4. **07_实战代码_04_OAuth集成工具.md** - 基于 antigravity-image-gen.ts

---

## 学习路径

### 快速入门 (30 分钟)

1. 阅读 **01_30字核心.md** (2 分钟)
2. 阅读 **04_最小可用.md** (10 分钟)
3. 阅读 **09_化骨绵掌.md** (20 分钟)

### 深入理解 (2 小时)

1. 阅读 **02_第一性原理.md** (30 分钟)
2. 阅读 8 个核心概念文档 (1.5 小时)

### 实战练习 (2 小时)

1. 阅读 4 个实战代码文档 (1 小时)
2. 动手实现自己的工具 (1 小时)

---

## 核心要点

**自定义工具注册 = Tool Definition + TypeBox Schema + execute 函数 + registerTool API**

**关键组成:**
1. **name**: 工具标识符
2. **description**: 工具描述(给 LLM 看)
3. **parameters**: 参数定义(TypeBox Schema)
4. **execute**: 执行逻辑(async 函数)

**最佳实践:**
- 充分利用 Schema 验证
- 使用 try-catch 处理错误
- 记录日志
- 支持取消操作(AbortSignal)
- 提供进度反馈(onUpdate)

---

## 快速参考

### 最小示例

```typescript
import { Type } from '@sinclair/typebox';
import type { Extension } from '@pi-mono/coding-agent';

export const myExtension: Extension = {
  name: 'my-extension',
  version: '1.0.0',
  
  async activate(context) {
    context.registerTool({
      name: 'hello',
      description: 'Say hello',
      parameters: Type.Object({
        name: Type.String({ description: 'Name' })
      }),
      execute: async ({ name }) => {
        return { content: `Hello, ${name}!` };
      }
    });
  }
};
```

---

## 下一步

1. **学习完成后**: 尝试实现自己的工具
2. **遇到问题**: 参考核心概念文档
3. **需要示例**: 查看实战代码文档
4. **深入理解**: 阅读第一性原理文档

祝学习愉快!
