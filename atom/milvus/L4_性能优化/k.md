# L4_性能优化 知识点列表

> 掌握 Milvus 2.6 的性能优化技巧，重点关注十亿级规模下的成本优化

---

## 知识点清单

1. **索引参数调优** - 调整 nlist、nprobe、M、efConstruction 等参数优化性能，包括 RaBitQ 参数
2. **查询优化** - 优化查询策略，减少延迟和资源消耗，包括混合检索优化
3. **成本优化与分层存储** - 十亿级规模成本优化：RaBitQ 量化、热冷分层存储、存储成本计算
4. **性能基准测试** - 掌握性能测试方法论、工具（VectorDBBench）和指标分析
5. **分布式优化** - 负载均衡、网络优化、Streaming Node 和 Woodpecker WAL 调优

---

## 学习顺序建议

```
索引参数调优 → 查询优化 → 成本优化与分层存储 → 性能基准测试 → 分布式优化
     ↓            ↓              ↓                  ↓              ↓
  召回率平衡   延迟优化      2026核心主题        量化评估        集群优化
```

---

## 前置知识

- ✅ L1_快速入门（所有知识点）
- ✅ L2_核心功能（所有知识点）
- ✅ L3_高级特性（所有知识点）

---

## 学习目标

完成本层级学习后，你将能够：
- ✅ 根据业务需求调优索引参数（包括 RaBitQ、GPU CAGRA）
- ✅ 优化查询策略提升性能（包括混合检索优化）
- ✅ 使用 RaBitQ 量化实现 72% 内存节省 + 4x 性能提升
- ✅ 配置热冷分层存储，降低 50% 存储成本
- ✅ 计算和优化十亿级规模下的存储成本
- ✅ 进行性能测试和瓶颈分析（使用 VectorDBBench）
- ✅ 优化分布式集群的性能表现
- ✅ 调优 Streaming Node 和 Woodpecker WAL 参数

---

## 2026 核心特性

### Milvus 2.6 成本优化特性
- **RaBitQ 量化**: 72% 内存节省 + 4x 性能提升
- **热冷分层存储**: 50% 存储成本降低
- **Int8 向量**: 内存优化
- **Coord Merge**: 减少协调节点开销

### Milvus 2.5/2.4 性能特性
- **GPU CAGRA 索引**: GPU 加速向量检索
- **混合检索优化**: 向量+BM25 性能调优
- **Streaming Node**: 统一流式数据处理

---

## 预计学习时间

- 快速入门：3-4小时（核心3个知识点：索引调优、查询优化、成本优化）
- 完整学习：8-10小时（全部5个知识点）

---

## 2026 学习重点

1. **成本优化是核心主题**：十亿级规模下的成本控制
2. **RaBitQ 量化**：72% 内存节省的实现原理和应用
3. **分层存储**：热冷数据分离策略
4. **存储成本计算**：内存 vs SSD vs 对象存储的成本对比
5. **GPU 加速**：CAGRA 索引在高性能场景的应用

---

## 成本优化策略对比

| 策略 | 内存节省 | 性能影响 | 适用场景 |
|------|----------|----------|----------|
| RaBitQ 量化 | 72% | +4x 性能 | 十亿级规模 |
| Int8 向量 | 75% | 轻微下降 | 精度要求不高 |
| 热冷分层 | 50% 存储成本 | 冷数据慢 | 历史数据多 |
| PQ 压缩 | 8-16x | 召回率下降 | 超大规模 |

---

**开始学习：** [01_索引参数调优](./01_索引参数调优/)
