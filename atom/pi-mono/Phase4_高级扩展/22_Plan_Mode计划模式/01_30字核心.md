# 30字核心

**Plan Mode 不是内置功能，而是一种通过扩展实现的规划模式，体现 pi-mono 极简哲学：构建你需要的，而非被提供的。**

---

## 核心要点

### 1. Plan Mode 是什么？

Plan Mode（计划模式）是一种**工作流模式**，而非 pi-mono 的内置功能。它允许 AI 代理在执行代码修改前，先进行只读探索和架构规划。

### 2. 为什么不是内置功能？

Pi-mono 的设计哲学是**极简主义**：
- **No black-box orchestration**：避免黑盒编排
- **Observability first**：文件优先，状态可见
- **User control**：用户控制工作流
- **Composability**：可组合的扩展系统

### 3. 如何实现 Plan Mode？

三种实现方式：

**方式 1：文件式规划**
```typescript
// 将计划写入文件，最大化可观察性
await api.tools.write('.pi/plan.md', planContent);
```

**方式 2：扩展命令**
```typescript
// 注册 /plan 命令，集成到 UI
api.registerCommand({
  name: 'plan',
  handler: async () => {
    await api.setState({ mode: 'plan' });
    api.disableTools(['write', 'edit']);
  }
});
```

**方式 3：Session 集成**
```typescript
// 使用 Session 管理计划状态
const session = await api.createSession({
  label: 'planning',
  readOnly: true
});
```

### 4. 核心价值

- **透明性**：计划存储在文件中，用户可见可编辑
- **灵活性**：用户选择适合自己的规划模式
- **可组合**：与其他扩展组合使用
- **可控性**：用户决定何时规划、何时执行

---

## 与其他工具对比

| 工具 | Plan Mode | 实现方式 | 哲学 |
|------|-----------|----------|------|
| **Pi-mono** | 扩展实现 | 用户自定义 | 极简、可控 |
| **Oh-my-pi** | 内置命令 | `/plan` 命令 | 功能丰富 |
| **Claude Code** | 内置功能 | Plan Mode | 集成体验 |

---

## 关键洞察

> "Pi-mono 不强制规划模式。相反，它提供原语（primitives）让你构建任何需要的规划工作流。将计划写入文件、使用扩展或集成 CLI 工具——选择权在你手中。"
>
> — Mario Zechner, pi-mono 作者

---

## 下一步

- **02_第一性原理.md**：理解为什么 Plan Mode 不是内置功能
- **03_核心概念_*.md**：学习三种实现方式的技术细节
- **07_实战代码_*.md**：查看完整的可运行代码示例
