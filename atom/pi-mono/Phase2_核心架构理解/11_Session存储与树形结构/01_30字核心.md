# 30字核心

> 用最简洁的语言抓住本知识点的核心本质

---

## 核心定义

**Session 存储与树形结构是 Pi-mono 使用 JSONL 格式和 id/parentId 实现的会话持久化方案，支持分支管理和历史导航。**

---

## 关键要素

1. **JSONL 格式**：每行一个 JSON 对象，支持追加写入
2. **id/parentId 关系**：构建树形结构的核心机制
3. **分支管理**：支持会话的多路径探索
4. **历史导航**：可以回溯和切换到任意历史状态

---

## 为什么重要

在 AI 对话系统中，会话管理是核心功能：
- **持久化**：对话历史需要保存
- **可追溯**：用户需要查看历史
- **可分支**：探索不同的对话路径
- **极简设计**：单文件、无数据库、易于理解

Pi-mono 的 Session 存储方案体现了"极简主义"设计哲学：用最简单的方式解决复杂问题。

---

## 一句话记忆

**JSONL 文件 + id/parentId 树 = 完整的会话管理系统**

---

**下一步**：深入理解第一性原理 → `02_第一性原理.md`
